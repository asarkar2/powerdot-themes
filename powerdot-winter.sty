%%
%% This is file `powerdot-winter.sty',
%% 
%% ---------------------------------------------------------------
%% Author: Anjishnu Sarkar
%% This is a re-creation of PPRwinter.sty, a style file created
%% by Trond Varslot (varslot@math.ntnu.no) for prosper.
%% The style file is compatible with powerdot-v1.4
%% ---------------------------------------------------------------
%%
\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\ProvidesPackage{powerdot-winter}[2010/03/31 v1.0 winter style (AS)]
\RequirePackage{pst-grad}
\RequirePackage{amssymb}

\pddefinepalettes{default}{
    \colorlet{pdcolor1}{blue!10!black}
    \colorlet{pdcolor2}{blue!40!black}
    \colorlet{pdcolor3}{blue!70!black}
    \colorlet{fontcolor1}{black}
    \colorlet{fontcolor2}{yellow}
    \colorlet{gradcolor1}{blue}
    \colorlet{gradcolor2}{white}
}

\pddefinetemplate{titleslide}{
  titlefont=\large\bfseries\centering\color{fontcolor2},
  clockpos={.99\slidewidth,\slideheight},
  lfpos={.03\slidewidth,.04\slideheight},
  lffont=\scriptsize\color{fontcolor1},
%  cfpos={.5\slidewidth,.04\slideheight},
%  cffont=\scriptsize\color{fontcolor1},
  rfpos={.97\slidewidth,.04\slideheight},
  rffont=\scriptsize\color{fontcolor1},
  texthook=tl,textpos={.05\slidewidth,.83\slideheight},
  textwidth=.9\slidewidth,
  textfont=\centering\color{fontcolor1},
  textheight=.75\slideheight
}{%
  \psset{linestyle=none,fillstyle=gradient,gradmidpoint=0}%
    \psframe[gradbegin=gradcolor2,gradend=gradcolor1]%
    (0,0)(\slidewidth,\slideheight)%
%   \psline[linewidth=.8pt](0,.9\slideheight)(\slidewidth,.9\slideheight)%
%   \psline[linewidth=.8pt](0,.1\slideheight)(\slidewidth,.1\slideheight)%
}
\pddefinetemplate{basic}{
  titlepos={.05\slidewidth,.93\slideheight},
  titlewidth=.9\slidewidth,textheight=.75\slideheight,
  titlefont=\large\bfseries\color{fontcolor2}\centering,
  clockpos={.99\slidewidth,\slideheight},
  lfpos={.03\slidewidth,.04\slideheight},
  lffont=\scriptsize\color{fontcolor1},
%  cfpos={.5\slidewidth,.04\slideheight},
%  cffont=\scriptsize\color{fontcolor1},
  rfpos={.97\slidewidth,.04\slideheight},
  rffont=\scriptsize\color{fontcolor1},
%   tocslidesep=.6ex,
  ifsetup=portrait,
    textpos={.05\slidewidth,.83\slideheight},
    textwidth=.9\slidewidth,
%    tocsecsep=.6ex,
%    stochook=tr,stocpos={.48\slidewidth,.09\slideheight},
%    stocfont=\tiny\raggedleft,
%    ntocpos={.52\slidewidth,.09\slideheight},
  ifsetup=landscape,
    textpos={.14\slidewidth,.83\slideheight},
    textwidth=.75\slidewidth,
    textfont=\color{fontcolor1}
}{%
  \psset{linestyle=none,fillstyle=gradient,gradmidpoint=0}%
    \psframe[gradbegin=gradcolor2,gradend=gradcolor1]%
    (0,0)(\slidewidth,\slideheight)%
}
\pddefinetemplate[basic]{wideslide}{
  textpos={.05\slidewidth,.83\slideheight},
  textwidth=.9\slidewidth
}{
  \psframe[gradbegin=gradcolor1,gradend=gradcolor2]%
    (0.02\slidewidth,1.2\slideheight)%
    (0.04\slidewidth,0.84\slideheight)
  \psframe[gradbegin=gradcolor1,gradend=gradcolor2]%
    (0.05\slidewidth,1.3\slideheight)%
    (0.07\slidewidth,0.86\slideheight)
  \psframe[gradbegin=gradcolor1,gradend=gradcolor2]%
    (0.08\slidewidth,1.5\slideheight)%
    (0.10\slidewidth,0.88\slideheight)
  \rput(0.05\slidewidth,0.88\slideheight){\multiflake}
}
\pddefinetemplate[basic]{slide}{
%   ifsetup=landscape,
%    tocpos={.015\slidewidth,.83\slideheight},
%    tocwidth=.14\slidewidth,
%    tocsecm={\psline[linewidth=.5pt,linecolor=gray]%
%      (-.05,-.05)(.143\slidewidth,-.05)}
}{%
  \pdifsetup{landscape}{%
    \psset{linestyle=none,fillstyle=gradient,gradmidpoint=0}%
    \psframe[gradbegin=gradcolor1,gradend=gradcolor2]%
      (0.02\slidewidth,1.2\slideheight)%
      (0.04\slidewidth,0.25\slideheight)
    \psframe[gradbegin=gradcolor1,gradend=gradcolor2]%
      (0.05\slidewidth,1.3\slideheight)%
      (0.07\slidewidth,0.35\slideheight)
    \psframe[gradbegin=gradcolor1,gradend=gradcolor2]%
      (0.08\slidewidth,1.5\slideheight)%
      (0.10\slidewidth,0.45\slideheight)
    \rput(0.05\slidewidth,0.8\slideheight){\multiflake}
    \rput(0.025\slidewidth,0.6\slideheight){\multiflake}
    \rput(0.04\slidewidth,0.39\slideheight){\multiflake}
  }{}%
}
\pddefinetemplate[slide]{sectionslide}{
  titlehook=c,titlefont=\Large\bfseries\color{gradcolor2}\centering,
  ifsetup=landscape,
    titlepos={.575\slidewidth,.55\slideheight},
    titlewidth=.75\slidewidth,
  ifsetup=portrait,
    titlepos={.5\slidewidth,.55\slideheight},
    titlewidth=.9\slidewidth
}{}
\pddefinetemplate[wideslide]{sectionwideslide}{
  titlehook=c,titlefont=\Large\bfseries\centering,
  titlepos={.5\slidewidth,.55\slideheight},
  titlewidth=.9\slidewidth
}{}

%% Define snow flakes
\newcommand{\flakepart}{%
    \psset{fillstyle=solid,fillcolor=gradcolor2}%
    \pspolygon(0,0)(0.5,1)(0.5,3)(1.9,4.4)(1.2,5.1)(0.5,4.4)(0.5,5.7)%
      (-0.5,5.7)(-0.5,4.4)(-1.2,5.1)(-1.9,4.4)(-0.5,3)(-0.5,1)
}
\newcommand{\snowflake}[1]{%
    \psset{unit=#1}%
    \multips{0}(0,0){1}{\flakepart}%
    \multips{60}(0,0){1}{\flakepart}%
    \multips{120}(0,0){1}{\flakepart}%
    \multips{180}(0,0){1}{\flakepart}%
    \multips{240}(0,0){1}{\flakepart}%
    \multips{300}(0,0){1}{\flakepart}%
}
\newcommand{\multiflake}{%
    \rput(0.0 ,1.6){\snowflake{0.06}}%
    \rput(0.2 ,0.0){\snowflake{0.06}}%
    \rput(0.5 ,0.6){\snowflake{0.04}}%
    \rput(0.1 ,1  ){\snowflake{0.04}}%
    \rput(0.8 ,1.4){\snowflake{0.06}}%
}

\setkeys[pd]{section}{sectemp=sectionslide,widesectemp=sectionwideslide}
% \def\pd@tochighlight#1{\pd@tocwinter\phantom{#1}}
% \def\pd@tochighlight#1{\pd@tocwinter\@firstofone{#1}}
% \def\pd@tocwinter#1#2{%
%   \@tempdima\pd@@tocwidth
%   \settowidth\@tempdimb{\normalsize\ensuremath\triangleright\hskip1mm}%
%   \advance\@tempdima-\@tempdimb
%   \ifnum\pd@toctype=\@ne\else
%     #1{\normalsize\ensuremath\triangleright\hskip1mm}%
%   \fi
%   \begin{minipage}[b]\@tempdima
%     \pd@usedtocfont#2%
%   \end{minipage}%
%   \ifnum\pd@toctype=\@ne
%     #1{\hskip1mm\normalsize\ensuremath\triangleleft}%
%   \fi
% }
\def\labelitemi{\footnotesize\checkmark}
\def\labelitemii{\S}
\def\labelitemiii{\ddag}
\def\labelitemiv{$\ast$}
\pdsetup{
  list={labelsep=1em,leftmargin=*,itemsep=0pt,topsep=5pt,parsep=0pt}
}
% \def\rmdefault{cmss}
\endinput
%%
%% End of file `powerdot-winter.sty'.
